<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Physical Syntax - An introduction to erd-script</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="An introduction to erd-script with some examples and an introduction to the wasm version.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="online.html"><strong aria-hidden="true">1.1.</strong> Online version</a></li></ol></li><li class="chapter-item expanded "><a href="erd_syntax.html"><strong aria-hidden="true">2.</strong> ERD Syntax</a></li><li class="chapter-item expanded "><a href="physical_syntax.html" class="active"><strong aria-hidden="true">3.</strong> Physical Syntax</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="physical_importing.html"><strong aria-hidden="true">3.1.</strong> Importing SQL</a></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">An introduction to erd-script</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="syntax"><a class="header" href="#syntax">Syntax</a></h1>
<p><code>erd-script</code> supports converting an ER-diagram to physical structure by generating the <code>sql</code> code to create the tables and constraints.</p>
<p>To use this feature, extra syntax is needed.</p>
<p>The following concepts are used:</p>
<ul>
<li>Tables</li>
<li>Datatypes</li>
</ul>
<h2 id="datatypes"><a class="header" href="#datatypes">Datatypes</a></h2>
<p>Columns in a table need to have a datatype, therefore you need to add a type to each attribute in the ER-diagram.</p>
<pre><code class="language-erd">entity Person
  id id type autoincrement
  attribute name type varchar(100)
  attribute alive type boolean
</code></pre>
<p>The following datatypes are supported</p>
<ul>
<li><code>autoincrement</code>: an integer that is filled in automatically</li>
<li><code>boolean</code>: a boolean <code>true</code> / <code>false</code> value</li>
<li><code>varchar(n)</code>: a text of maximum length <code>n</code></li>
<li><code>integer</code>: an integer</li>
<li><code>float</code>: a floating comma value</li>
<li><code>datetime</code>: a date and time</li>
</ul>
<h2 id="tables"><a class="header" href="#tables">Tables</a></h2>
<h3 id="entities"><a class="header" href="#entities">Entities</a></h3>
<p>For each entitiy a table needs to be created with a command of the form <code>table &lt;table_name&gt; from entity &lt;entity_name&gt;</code>.</p>
<pre><code class="language-erd">table person from entity Person
</code></pre>
<h3 id="relations"><a class="header" href="#relations">Relations</a></h3>
<h4 id="foreign-keys"><a class="header" href="#foreign-keys">Foreign keys</a></h4>
<p>Relations of type <code>1:1</code> or <code>1:n</code> can be implemented by adding a foreign key to the right table.</p>
<pre><code class="language-erd">table person from entity Person
foreign key father for Father
foreign key mother for Mother
</code></pre>
<h4 id="extra-table"><a class="header" href="#extra-table">Extra table</a></h4>
<p>Relations of type <code>m:n</code> need to be implemented by creating an extra table with a command of the form <code>table &lt;table_name&gt; from relation &lt;relation_name&gt;</code>.</p>
<pre><code class="language-erd">table ownership from relation Ownership
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<pre><code class="language-erd">entity Person
  id id type autoincrement
  attribute name type varchar(100)
  attribute alive type boolean

relation Father
  one optional Person // For now, this order is important, the one with 'one' should be the first for unary relations
  multiple optional Person

relation Mother
  one optional Person
  multiple optional Person

relation Friends(Is friends with)
  multiple optional Person
  multiple optional Person

entity Car
  id id type autoincrement
  attribute color type varchar(20)
  attribute price type float

relation Ownership(Is owner)
  multiple optional Person
  multiple optional Car
  attribute since type datetime

table person from entity Person
foreign key father for Father
foreign key mother for Mother

table car from entity Car

table ownership from relation Ownership

table friendship from relation Friends
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="erd_syntax.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="physical_importing.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="erd_syntax.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="physical_importing.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
                <script type="text/javascript" src="highlight-erd.js"></script>
        
        
    </body>
</html>
